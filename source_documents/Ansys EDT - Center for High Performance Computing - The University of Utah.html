<!DOCTYPE HTML><html lang="en-US" class="no-js">
   <head><!-- PAGE HEAD -->
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
      <title>Ansys EDT - Center for High Performance Computing - The University of Utah</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="robots" content="index,follow">
      <link rel="icon" href="//templates.utah.edu/_main-v3-1/images/template/favicon.ico">
      <link rel="apple-touch-icon-precomposed" href="//templates.utah.edu/_main-v3-1/images/template/apple-touch-icon.png">
      <link rel="stylesheet" href="//templates.utah.edu/_main-v3-1/css/main.min.css" type="text/css"><noscript>
         <link rel="stylesheet" href="//templates.utah.edu/_main-v3-1/css/assets/fontawesome/css/all.min.css" type="text/css"></noscript><link href="/_resources/css/custom.css" rel="stylesheet" type="text/css">
      <script src="//templates.utah.edu/_main-v3-1/js/head-code.min.js"></script>
      <!-- HEAD CODE -->
      
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y160DVJ0DZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y160DVJ0DZ');
</script>

      
      <!-- END HEAD CODE -->
      <!-- END PAGE HEAD -->
      </head>
   <body class="has-headernav"><!-- PAGE BODY -->
      <a class="uu-skip-link" href="#skip-link-target">Skip to content</a>
      <!-- BODY TOP CODE -->
            <!-- END BODY TOP CODE -->
      
      <div id="uu-top-target" class="uu-site"><!-- SEARCH -->
         <div class="uu-search" role="search">
    <div class="uu-search__container">
        <!-- SITE SEARCH -->
        <form method="get" id="search-site" class="uu-search__form" action="/search/index.php">

            <label for="inputSearchSite" class="sr-only">Search Site:</label>
            <input type="text" id="inputSearchSite" name="q" value="" placeholder="Search Site" />
            <input type="hidden" name="gcse_action" value="site" />

            <div class="form-powered-by">
                <span>Powered by</span> 
                <img src="https://templates.utah.edu/_main-v3-1/images/template/google-logo.png" alt="Google Search">
            </div>

        </form>
        <!-- END SITE SEARCH -->
        <!-- CAMPUS SEARCH -->
        <form method="get" id="search-campus" class="uu-search__form" action="/search/index.php">

            <label for="inputSearchCampus" class="sr-only">Search Campus:</label>
            <input type="text" id="inputSearchCampus" name="q" value="" placeholder="Search Campus" />
            <input type="hidden" name="gcse_action" value="campus" />

            <div class="form-powered-by">
                <span>Powered by</span> 
                <img src="https://templates.utah.edu/_main-v3-1/images/template/google-logo.png" alt="Google Search">
            </div>
        </form>
        <!-- END CAMPUS SEARCH -->

        <!-- SEARCH TYPE TOGGLE -->
        <div class="search-type-toggle">
            <label class="uu-switch" for="search_campus_checkbox">
                <input type="checkbox" name="search_campus_checkbox" value="" id="search_campus_checkbox">
                <span class="uu-switch-slider"></span>
                <span class="uu-switch-label">Search Campus</span>
            </label>
        </div>
        <!-- END SEARCH TYPE TOGGLE -->

    </div>
</div><!-- END SEARCH -->
         <!-- HEADER -->
         
         <header class="uu-header">
            <div class="uu-header__container">
               <!-- ALERT AREA -->
               <div id="alert_bar" class="uu-alert-bar"> 
	<a href="https://coronavirus.utah.edu/">University of Utah COVID-19 Updates</a>
</div><!-- END ALERT AREA -->
               
               <div class="uu-header__top"> <a href="https://www.utah.edu/" class="uu-header__logo"><span class="sr-only">The University of Utah</span></a>                  <div class="uu-header__middle">
                     <!-- HEADER TITLE -->
                     <div class="uu-header__title">
<h2><a href="/">CHPC - Research Computing and Data Support for the University</a></h2>
<!-- <h3><a href="http://it.utah.edu">University Information Technology</a></h3> --></div><!-- END HEADER TITLE -->
                     <!-- HEADER NAVIGATION -->
                     
<nav class="uu-header__nav">
	
<ul class="uu-menu__level1">
<ul class="uu-menu__level1">
<li class="has-sub"><a href="#">About Us</a>
<ul class="sub-menu">
<li><a href="/about/index.php">About Us</a></li>
<li><a href="https://www.chpc.utah.edu/about/vision.php">Vision</a></li>
<li><a href="/about/staff.php">Staff</a></li>
<li><a href="https://www.chpc.utah.edu/about/contact.php">Contact Information</a></li>
<li><a href="https://www.chpc.utah.edu/about/acknowledge.php">Acknowledging CHPC</a></li>
<li><a href="https://www.chpc.utah.edu/highlights.php">Research Highlights</a></li>
<li><a href="https://www.chpc.utah.edu/about/partners.php">Partners</a></li>
<li><a href="/news/index.php">News</a></li>
<li><a href="/about/governance.php">Governance</a></li>
</ul>
</li>
<li class="has-sub"><a href="#">Resources</a>
<ul class="sub-menu">
<li><a href="https://www.chpc.utah.edu/resources/index.php">Resources</a></li>
<li><a href="https://www.chpc.utah.edu/resources/HPC_Clusters.php">HPC Clusters</a></li>
<li><a href="/resources/storage_services.php">Storage Services</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/data_services.php">Data Transfer Services</a></li>
<li><a href="/resources/virtualmachines.php">Virtual Machines</a></li>
<li><a href="/resources/hosting.php">Hosting Services</a></li>
<li><a href="/resources/Networking.php">Networking</a></li>
<li><a href="/resources/ProtectedEnvironment.php">Protected Environment</a></li>
<li><a href="/documentation/software/ai.php">ML/AI Resources</a></li>
<li><a href="/userservices/index.php">User Services</a></li>
</ul>
</li>
<li class="has-sub sub-width-lg"><a href="#">Documentation</a>
<ul class="sub-menu">
<li><a href="https://www.chpc.utah.edu/documentation/index.php">Documentation</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/gettingstarted.php">Getting Started</a></li>
<li><a href="https://www.chpc.utah.edu/resources/access.php">Accessing Our Resources</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/videos/index.php">Short Training Videos</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/index.php">Cluster Guides</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/beehive.php">Beehive User Guide (Windows Server)</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/gpus-accelerators.php">GPU &amp; Accelerators</a></li>
<li><a href="/documentation/software/ai.php">ML/AI Resources</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/frisco-nodes.php">Frisco Nodes</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/narwhal.php">Narwhal User Guide (Protected Environment Statistics)</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/software/index.php">Software</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/ProgrammingGuide.php">Programming Guide</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/policies/index.php">Policy Manual</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/data_services.php">Data Transfer Services</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/HelloWorldMPI.php">HPC Basics - Hello World MPI</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/faq.php">Frequently Asked Questions</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/white_papers/index.php">White Papers</a></li>
</ul>
</li>
<li class="has-sub"><a href="#">User Services</a>
<ul class="sub-menu">
<li><a href="/userservices/index.php">User Services</a></li>
<li><a href="https://www.chpc.utah.edu/userservices/accounts.php">Accounts</a></li>
<li><a href="/userservices/allocations.php">Allocations</a></li>
<li><a href="/userservices/gettinghelp.php">Getting Help</a></li>
<li><a href="https://www.chpc.utah.edu/presentations/index.php">Training</a></li>
</ul>
</li>
<li class="has-sub sub-width-lg"><a href="#">Usage</a>
<ul class="sub-menu">
<li><a href="/usage/cluster/index.php">Cluster Usage</a>
<ul>
<li><a href="/usage/cluster/current-project-general.php">General Allocation Pool</a></li>
<li><a href="/usage/cluster/current-project-lonepeak.php">Lonepeak Cluster</a></li>
<li><a href="/usage/cluster/current-project-kingspeak.php">Kingspeak Cluster</a></li>
<li><a href="/usage/cluster/current-project-ash.php">Ash Cluster</a></li>
<li><a href="/usage/cluster/current-project-redwood.php">Redwood Cluster</a></li>
</ul>
</li>
<li><a href="/usage/graphs.php?g=cluster%20utilization&amp;host=combined&amp;type=daily_utilization">Cluster Utilization Graphs</a></li>
<li><a href="/usage/graphs.php?g=hpc%20cluster%20scratch&amp;host=chpc_gen&amp;type=cpu">HPC Cluster Scratch</a></li>
<li><a href="/usage/graphs.php?g=network&amp;host=Campus+Gateway&amp;type=daily_traffic">Network</a>
<ul>
<li><a href="/resources/maddash-dashboards.php">Maddash Dashboards</a></li>
</ul>
</li>
<li><a href="http://weathermap.uen.net/" target="_blank" rel="noopener">UEN Weathermap (Only Available on UEN Networks)</a></li>
<li><a href="http://snapp2.bldc.grnoc.iu.edu/i2al2s/#&amp;p=3%2C42&amp;ccid=3&amp;tab=1&amp;search=undefined&amp;pwidth=undefined&amp;ccat=undefined&amp;url=show-graph.cgi%3Fcollection_ids%3D145%26end%3D1461772131%26start%3D1461771831%26cf%3DAVERAGE%26ds%3Doutput%2Cinput%26collection_ids%3D145" target="_blank" rel="noopener">UEN Aggregate Utilization</a></li>
<li><a href="http://uofu.status.io">UofU IT Services Status</a></li>
<li><a href="https://status.it.utah.edu">University Application Heath Summary - NOC</a></li>
</ul>
</li>
<li><a href="/role/">My Account</a></li>
</ul>
</ul>	
</nav>

<!-- END HEADER NAVIGATION -->
                     </div>
                  <div class="uu-search-toggle"><button class="uu-search__trigger"><span class="far fa-search" aria-hidden="true"></span><span class="sr-only">Search</span></button></div><button id="jsNavTrigger" class="uu-nav__trigger" aria-haspopup="true" aria-expanded="false"><span class="sr-only">Reveal Menu</span><span></span></button></div>
            </div>
         </header>
         <!-- END HEADER -->
         <!-- PUSH NAVIGATION -->
         
         <section class="uu-nav">
            <div class="uu-nav__container"><button id="jsMobileNavTrigger" class="uu-nav__trigger" aria-haspopup="true" aria-expanded="false"><span class="sr-only">Reveal Menu</span><span></span></button><header class="uu-nav__header">
                  <h2 class="sr-only">Main Navigation</h2>
                  <!-- Navigation Logo -->
<a href="https://utah.edu/" class="uu-nav__logo">
	<img src="https://templates.utah.edu/_main-v3-1/images/template/university-of-utah-logo.svg" alt="The University of Utah"/>
</a></header>
               <nav class="uu-menu" aria-label="main"><p><h2 class="uu-menu__title">Main Menu</h2>
<hr />
<ul class="uu-menu__level1">
<li><a href="/">Home</a></li>
<li class="has-sublist"><a href="#">About Us</a>
<ul class="uu-menu__level2">
<li><a href="/about/index.php">About Us</a></li>
<li><a href="https://www.chpc.utah.edu/about/vision.php">Vision</a></li>
<li><a href="/about/staff.php">Staff</a></li>
<li><a href="https://www.chpc.utah.edu/about/contact.php">Contact Information</a></li>
<li><a href="https://www.chpc.utah.edu/about/acknowledge.php">Acknowledging CHPC</a></li>
<!--<li><a href="/about/bibliography/CHPC%20BIB.pdf" target="_blank" rel="noopener">CHPC Bibliography</a></li>-->
<li><a href="https://www.chpc.utah.edu/about/SupportedResearch.php">Supported Research</a></li>
<li><a href="https://www.chpc.utah.edu/highlights.php">Research Highlights</a></li>
<li><a href="https://www.chpc.utah.edu/about/partners.php">Partners</a></li>
<li><a href="/news/index.php">News</a></li>
<li><a title="University Information Technology" href="https://it.utah.edu/" target="_blank" rel="noopener">UIT</a></li>
<li><a href="/about/governance.php">Governance</a></li>
</ul>
</li>
<li class="has-sublist"><a href="#">Resources</a>
<ul class="uu-menu__level2">
<li><a href="https://www.chpc.utah.edu/resources/index.php">Resources</a></li>
<li><a href="https://www.chpc.utah.edu/resources/HPC_Clusters.php">HPC Clusters</a></li>
<li><a href="/resources/storage_services.php">Storage Services</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/data_services.php">Data Transfer Services</a></li>
<li><a href="/resources/virtualmachines.php">Virtual Machines</a></li>
<li><a href="/resources/hosting.php">Hosting Services</a></li>
<li><a href="/resources/Networking.php">Networking</a></li>
<li><a href="/resources/ProtectedEnvironment.php">Protected Environment</a></li>
<li><a href="/documentation/software/ai.php">AI/ML Resources</a></li>
<li><a href="/userservices/index.php">User Services</a></li>
</ul>
</li>
<li class="has-sublist"><a href="#">Documentation</a>
<ul class="uu-menu__level2">
<li><a href="https://www.chpc.utah.edu/documentation/index.php">Documentation</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/gettingstarted.php">Getting Started</a></li>
<li><a href="https://www.chpc.utah.edu/resources/access.php">Accessing Our Resources</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/videos/index.php">Short Training Videos</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/index.php">Cluster Guides</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/beehive.php">Beehive User Guide (Windows Server)</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/gpus-accelerators.php">GPU &amp; Accelerators</a></li>
<li><a href="/documentation/software/ai.php">ML/AI Resources</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/frisco-nodes.php">Frisco Nodes</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/narwhal.php">Narwhal User Guide (Protected Environment Statistics)</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/software/index.php">Software</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/ProgrammingGuide.php">Programming Guide</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/policies/index.php">Policy Manual</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/data_services.php">Data Transfer Services</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/guides/HelloWorldMPI.php">HPC Basics - Hello World MPI</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/faq.php">Frequently Asked Questions</a></li>
<li><a href="https://www.chpc.utah.edu/documentation/white_papers/index.php">White Papers</a></li>
</ul>
</li>
<li class="has-sublist"><a href="#">User Services</a>
<ul class="uu-menu__level2">
<li><a href="/userservices/index.php">User Services</a></li>
<li><a href="https://www.chpc.utah.edu/userservices/accounts.php">Accounts</a></li>
<li><a href="/userservices/allocations.php">Allocations</a></li>
<li><a href="/userservices/gettinghelp.php">Getting Help</a></li>
<li><a href="https://www.chpc.utah.edu/presentations/index.php">Training</a></li>
</ul>
</li>
<li class="has-sublist"><a href="#">Usage</a>
<ul class="uu-menu__level2">
<li class="has-sublist"><a href="/usage/cluster/index.php">Cluster Usage</a>
<ul class="uu-menu__level3">
<li><a href="/usage/cluster/current-project-general.php">General Allocation Pool</a></li>
<li><a href="/usage/cluster/current-project-lonepeak.php">Lonepeak Cluster</a></li>
<li><a href="/usage/cluster/current-project-kingspeak.php">Kingspeak Cluster</a></li>
<li><a href="/usage/cluster/current-project-ash.php">Ash Cluster</a></li>
<li><a href="/usage/cluster/current-project-redwood.php">Redwood Cluster</a></li>
</ul>
</li>
<li><a href="/usage/graphs.php?g=cluster%20utilization&amp;host=combined&amp;type=daily_utilization">Cluster Utilization Graphs</a></li>
<li><a href="/usage/graphs.php?g=hpc%20cluster%20scratch&amp;host=chpc_gen&amp;type=cpu">HPC Cluster Scratch</a></li>
<li class="has-sublist"><a href="/usage/graphs.php?g=network&amp;host=Campus+Gateway&amp;type=daily_traffic">Network</a>
<ul class="uu-menu__level3">
<li><a href="/resources/maddash-dashboards.php">Maddash Dashboards</a></li>
</ul>
</li>
<li class="has-sublist"><a href="http://weathermap.uen.net/" target="_blank" rel="noopener">UEN Weathermap</a>
<ul class="uu-menu__level3">
<li><a href="http://weathermap.uen.net/" target="_blank" rel="noopener">(Only Available on UEN Networks)</a></li>
</ul>
</li>
<li><a href="http://snapp2.bldc.grnoc.iu.edu/i2al2s/#&amp;p=3%2C42&amp;ccid=3&amp;tab=1&amp;search=undefined&amp;pwidth=undefined&amp;ccat=undefined&amp;url=show-graph.cgi%3Fcollection_ids%3D145%26end%3D1461772131%26start%3D1461771831%26cf%3DAVERAGE%26ds%3Doutput%2Cinput%26collection_ids%3D145" target="_blank" rel="noopener">UEN Aggregate Utilization</a></li>
<li><a href="http://uofu.status.io">UofU IT Services Status</a></li>
<li><a href="https://status.it.utah.edu">University Application Heath Summary - NOC</a></li>
</ul>
</li>
<li><a href="/role/">My Account</a></li>
</ul></p></nav>
            </div>
         </section>
         <!-- END PUSH NAVIGATION -->
         
         <!-- MAIN CONTENT -->
         <main class="uu-main" id="skip-link-target">
            <nav aria-label="Breadcrumb" class="uu-breadcrumb">
               <ol>
                  <li><a href="/">Home</a></li>
                  <li><a href="/documentation/">documentation</a></li>
                  <li><a href="/documentation/software/">software</a></li>
                  <li><span class="sr-only">current page: </span>Ansys EDT</li>
               </ol>
            </nav>
            <!-- SECTION 1 -->
            
            <section class="uu-section bg-white text-default uu-section--region-1" style="">
               <div class="uu-section__container"><!-- SECTION HEADER -->
                  <!-- END SECTION HEADER -->
                  <!-- REGION 1 -->
                  
                  <div class="uu-section__region bg-white text-default no-border">
                     <ul id="in_text_nav" class="crawl_skip">
                        <li class="crawl_skip" style="margin-left: 0px;"><a href="#a">Ansys</a></li>
                        <li class="crawl_skip" style="margin-left: 0px;"><a href="#f">Fluent</a></li>
                        <li class="crawl_skip" style="margin-left: 0px;"><a href="#aed">Ansys Electronics Desktop</a></li>
                        <li class="crawl_skip" style="margin-left: 30px;"><a href="#utg">Using the GUI</a></li>
                        <li class="crawl_skip" style="margin-left: 30px;"><a href="#ub">Using batch</a></li>
                     </ul>
                     <!--crawl_skip-->
                     <h1 id="a">Ansys</h1>
                     <p><a href="http://www.ansys.com/">Ansys</a> is a suite of engineering analysis software packages including&nbsp;finite element analysis<span>, </span>structural analysis<span>, </span>computational fluid dynamics<span>, </span>explicit and implicit methods<span>, and </span>heat transfer<span>.&nbsp;For University of Utah users, CHPC utilizes the College of Engineering License;
                           for Utah State University researchers we utilize the USU licenses.</span></p>
                     <ul>
                        <li><strong>Version:</strong> 21.2, 22.2, 23.1</li>
                        <li><strong>Machine:</strong> all clusters</li>
                        <li><strong>Location: &nbsp;</strong>/uufs/chpc.utah.edu/sys/installdir/ansys&nbsp;</li>
                     </ul>
                     <p><span>The Ansys suite includes numerous products, some of which we list below. The common
                           launch interface, the Ansys Workbench, is also available through the <a href="/documentation/software/ondemand.php#oodansys">Open OnDemand web portal</a>, which provides an easy way to run the GUI inside of a job on CHPC clusters.</span></p>
                     <p><span>NOTE: Ansys 22.2 ships with Intel MPI version which does not work well with the network
                           drivers on the Rocky Linux 8 operation system that our clusters run. Please, explicitly
                           specify to use OpenMPI instead, with details below.</span></p>
                     <div><a href="#in_text_nav">Jump to top of page</a></div>
                     <h2>CFX</h2>
                     <p>CFX is one of the computational fluid dynamics (CFD) programs that come with the Ansys
                        suite. Run it as the following batch script:</p>
                     <pre>#!/bin/bash<br>#SBATCH --time=1:00:00 # walltime, abbreviated by -t<br>#SBATCH --nodes=2 &nbsp; &nbsp; &nbsp;# number of cluster nodes, abbreviated by -N<br>#SBATCH -o slurm-%j.out-%N # name of the stdout, using the job number (%j) and the first node (%N)<br>#SBATCH --ntasks=4 &nbsp; &nbsp;# number of MPI tasks, abbreviated by -n<br>#SBATCH --account=notchpeak-shared-short &nbsp; &nbsp; # account - abbreviated by -A<br>#SBATCH --partition=notchpeak-shared-short &nbsp;# partition, abbreviated by -p<br><br>module load ansys/22.2<br><br># specify work directory and input file names<br>export WORKDIR=`pwd`<br># name of the input file<br>export INPUTNAME=Benchmark.def<br># our input source is one of the CFX examples<br>export INPUTDIR=$ANSYS222_ROOT/CFX/examples<br><br># cd to the work directory<br>cp $INPUTDIR/$INPUTNAME $WORKDIR<br>cd $WORKDIR<br><br>export SLURM_NODEFILE=nodes.$$<br>srun hostname -s | sort &gt; $SLURM_NODEFILE<br>NODELIST=`cat $SLURM_NODEFILE`<br>NODELIST=`echo $NODELIST | sed -e 's/ /,/g'`<br>echo "Ansys nodelist="$NODELIST<br><br>cfx5solve -def $INPUTNAME -parallel -par-dist $NODELIST -start-method "Open MPI Distributed Parallel"</pre>
                     <p>&nbsp;Note that for the ansys/22.2 we set the parallel method (-start-method) to OpenMPI,
                        as the default Intel MPI version does not work well on our clusters.</p>
                     <h2 id="f">Fluent</h2>
                     <p><span>One of the commonly used ansys packages is <a href="http://www.ansys.com/Products/Fluids/ANSYS-Fluent">fluent</a>, a&nbsp;</span>computational fluid dynamics (CFD) software tool. Fluent includes well-validated physical
                        modeling capabilities to deliver fast, accurate results across the widest range of
                        CFD and multiphysics applications.</p>
                     <p><strong>To use fluent via the Graphical Interface:</strong></p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>module load ansys<br>fluent</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>This will display the fluent launcher window,where you can select options such as
                        2D vs 3D; from here you &nbsp;launch the fluent interface. &nbsp;Note that this is run on the
                        node you are on when you issue the fluent command. For any substantial computational
                        work &nbsp;you should not run fluent on the general interactive nodes (see our&nbsp;<a href="https://www.chpc.utah.edu/documentation/policies/2.1GeneralHPCClusterPolicies.php#Pol2.1.1">Acceptable Use of Interactive Node Policy</a>) but should do so on a compute node of the Notchpeak cluster&nbsp; by</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>salloc -n 1 -N 1 -p notchpeak-shared-short -A notchpeak-shared-short -t 8:00:00 </pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p><span>NOTE: Ansys 22.2 Fluent meshing does not start correctly from the Ansys Workbench.
                           Please, start it explicitly as <code>fluent -meshing -mpi=openmpi</code> . Notice that we are also setting OpenMPI for the MPI parallelization, as Intel MPI
                           version shipped with Ansys 22.2 does not work well on our clusters.</span></p>
                     <p><strong>To use fluent via the batch script:</strong></p>
                     <p><span>You can use the graphical interface to create your model and save the case file and
                           then submit the simulation via a batch script. &nbsp;Below is an example script that you
                           can adapt to your needs. This script will run fluent on two kingspeak&nbsp;compute nodes.
                           &nbsp;See our&nbsp;<a href="https://www.chpc.utah.edu/documentation/software/slurm.php">slurm documentation page</a> for details on the choice of the SBATCH directives.</span></p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>#!/bin/bash<br>#SBATCH --time=1:00:00<br>#SBATCH --partition=kingspeak-guest<br>#SBATCH --account=owner-guest<br>#SBATCH --nodes 2<br>#SBATCH --ntasks 40<br>#SBATCH --constraint="c20" <br>#SBATCH -o slurm-%j.out-%N<br><span>#</span><br><span>#Below WORKDIR is the directory containing the input file</span><br><span>#INPUTFILE and OUTPUTFILE are the names of the input</span><br><span>#and output respectively </span><br>#<br>export WORKDIR=$HOME/fluent_test<br>export INPUTFILE=12.1.inp<br>export OUTPUTFILE=12.1.out<br>cd $WORKDIR<br>module load ansys<br><span>FLUENTNODES="$(scontrol show hostnames)"</span><br><span>FLUENTNODES=$(echo $FLUENTNODES | tr ' ' ',')</span><br>time<br>fluent 2ddp -t$SLURM_NTASKS -pib -cnf=$FLUENTNODES -g -i $INPUTFILE -mpi=openmpi &gt; $OUTPUTFILE<br>time</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <div><a href="#in_text_nav">Jump to top of page</a></div>
                     <h2 id="aed">Ansys Electronics Desktop</h2>
                     <p>ANSYS Electronics Desktop (EDT) is the premier, unified platform for electromagnetic,
                        circuit and system simulation. Gold-standard tools like ANSYS HFSS, Maxwell, Q3D Extractor,
                        and Simplorer are built natively in the Electronics Desktop, which serves as a universal
                        Pre/Post processor for these tools. For more details see the <a href="https://www.ansys.com/products/electronics/ansys-electronics-desktop" target="_blank" rel="noopener">Ansys Electronics Desktop webpage.</a></p>
                     <p>CHPC utilizes College of Engineering license, which includes the Maxwell, HFSS, HFSS
                        HPC and HFSS Desktop and which status can be seen <a href="http://www.eng.utah.edu/watch/index.php" target="_blank" rel="noopener">here</a>. If you are not in College of Engineering, please, <a href="mailto:helpdesk@chpc.utah.edu?subject=">contact CHPC</a> about how you can use it. For Utah State University users, we use the USU license.</p>
                     <ul>
                        <li><strong>Version:</strong> 21.2</li>
                        <li><strong>Machine:</strong> all clusters</li>
                        <li><strong>Location: &nbsp;</strong>/uufs/chpc.utah.edu/sys/installdir/ansysedt</li>
                     </ul>
                     <p>There are two possible ways to run Ansys EDT. One is through its Graphical User Interface
                        (GUI), and the other is through a batch script.</p>
                     <div><a href="#in_text_nav">Jump to top of page</a></div>
                     <h4 id="utg">Using the GUI</h4>
                     <p>The GUI approach allows one to design and build the simulation, and then run it from
                        the GUI, however, the execution is limited to a single node. One also has to run the
                        GUI via interactive job session, which may require waiting until resources (compute
                        nodes) free up.</p>
                     <p>The easiest way to run the GUI is from the <a href="https://www.chpc.utah.edu/documentation/software/ondemand.php">Open OnDemand web portal</a>. This submits a job on a cluster and runs the GUI inside of this job without one
                        needing to use any SLURM scheduler commands.</p>
                     <p>To run the GUI from the terminal, we need to first request the resource (compute node)
                        using the SLURM scheduler, once they are available (command prompt returns) load the
                        <span class="faux-code">ansysedt</span> module, and then run the <span class="faux-code">ansysedt</span> command. The best for this purpose is the notchpeak cluster's notchpeak-shared-short
                        partition:</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>salloc -n 1 -N 1 -p notchpeak-shared-short -A notchpeak-shared-short -t 8:00:00 <br>module load ansysedt<br>ansysedt</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>&nbsp;<span class="faux-code">mygroup</span> is the user's group name.</p>
                     <p>Once the GUI loads up, set up your problem and run it as a job on the local node.
                        Typically, it should be fine to "Use automatic settings" under the "Compute Resources"
                        tab of the "Submit Job" dialog window.</p>
                     <div><a href="#in_text_nav">Jump to top of page</a></div>
                     <h4 id="ub">Using batch</h4>
                     <p>Running simulation in the batch is preferred for several reasons. First, one can use
                        more than one node, which may speed up the simulation or make it feasible due to larger
                        memory availability. Second, job will wait in the SLURM queue till the resources are
                        available, and start without the need of user interaction.</p>
                     <p>To run in batch, one has to first design the simulation using the GUI, and save it
                        (e.g. as *.aedt file). Then modify a few items the <span class="faux-code"><a href="/documentation/software/scripts/run_ansysedt.slr">run_ansysedt.slr</a></span> script as noted in the script, in particular, number of nodes and tasks to run on,
                        the input directory and name.&nbsp; The script is also available at <span class="faux-code">/uufs/chpc.utah.edu/sys/installdir/hfss/scripts/run_ansysedt.slr</span>, which you can simply copy to your input directory and modify there.</p>
                     <p>Ansys EDT is parallelized on two levels over distributed MPI tasks and over threads,
                        that is we can run multiple threads per MPI task and achieve higher level of parallelism.
                        The script above figures out the number of threads per task to use based on the node
                        count, task count and cores per node count to fully utilize available CPU cores on
                        each node.</p>
                     <p>Once the input file and the script are ready, submit the job as</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>sbatch run_ansysedt.slr</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>You can monitor the status of the job with</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>squeue -u myUNID</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p><code style="background-color: lightgray;">myUNID</code>&gt; being your uNID.</p>
                     <p>Once the job starts, it is important to check the job log file (<span class="faux-code">myInput.log</span>) for a few things to ensure efficient execution. In particular, at the start of the
                        log file, the program writes out user requested job distribution, for example, on
                        2 kingspeak nodes, 2 tasks per node:</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>Num tasks for machine kp045 = 2<br>Num cores for machine kp045 = 8<br>RAM limit for machine kp045 = -1<br>Num tasks for machine kp046 = 2<br>Num cores for machine kp046 = 8<br>RAM limit for machine kp046 = -1</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>&nbsp;However, Ansys EDT then does its own evaluation of the simulation and adjusts the
                        resources, which then writes to the log file, e.g.</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>Machines:<br>kp045: RAM: 90%, task0:4 cores, task1:4 cores<br>kp046: RAM: 90%, task0:4 cores, task1:4 cores</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>It is important to compare what you requested and what Ansys EDT decides to use and
                        if there is a large mismatch in the requested and used resources, adjust the node/task
                        count and resubmit the job. In this case, we would probably want to decrease the number
                        of nodes from 2 to 1 and tasks from 4 to 2, effectively just running on one node.</p>
                     <p>Finally, since Ansys EDT uses its own distributed task management system, it is necessary
                        to start some processes on all the job's nodes with some custom workarounds. In case
                        these workarounds fail (we hope not but just in case), the simulation may run just
                        on single node. Please, check the log file for messages that indicate this and that
                        look like:</p>
                     <!-- PANEL -->
                     <div class="c-panel bg-light-gray text-default has-filter  " data-filter-terms="sample1 sample2" style=" ">
                        <pre>[error] Project:StripesOfGrapheneOnPolymiade, Design:StripesOfGraphenePolyVsTau2DSh1 (DrivenModal), Unable to locate or start COM engine on 'kp075' : Unable to reach AnsoftRSMService. Check if the service is running and if the firewall allows communication.<br>[warning] Project:StripesOfGrapheneOnPolymiade, Design:StripesOfGraphenePolyVsTau2DSh1 (DrivenModal), Distributed solve error on machine 'kp075'. Task dropped from simulation.</pre>
                     </div>
                     <!-- END PANEL -->
                     
                     <p>&nbsp;If you see these messages, <a href="mailto:helpdesk@chpc.utah.edu?subject=Ansys%20EDT%20multiple%20nodes%20launch%20problem">let us know</a>.</p>
                     <div><a href="#in_text_nav">Jump to top of page</a></div>
                  </div>
                  <!-- END REGION 1 -->
                  <!-- SECTION FOOTER -->
                  
                  <div class="uu-section__footer  ">
                     <p></p>
                  </div>
                  <!-- END SECTION FOOTER -->
                  </div>
            </section>
            <!-- END SECTION 1 -->
            <!-- SECTION 2 -->
            <!-- END SECTION 2 -->
            <!-- SECTION 3 -->
            <!-- END SECTION 3 -->
            <!-- SECTION 4 -->
            <!-- END SECTION 4 -->
            <!-- SECTION 5 -->
            <!-- END SECTION 5 -->
            </main>
         <!-- END MAIN CONTENT -->
         <!-- FOOTER -->
         
         <footer class="uu-footer"><div class="uu-footer__top">
   <div class="uu-footer__top-container">
      <div class="uu-footer__top-col1"><a href="https://www.utah.edu"><img src="https://templates.utah.edu/_main-v3-1/images/template/blocku.svg" alt="The University of Utah" class="uu-block-logo"></a><div class="department-name">
            <h2>The Center For High Performance Computing</h2>
         </div>
         <div class="department-address">
            <p>155 S 1452 E, RM. 405<br>SLC, UT 84112-0190<br>801.585.3791&nbsp;</p>
         </div>
      </div>
      <div class="uu-footer__top-col2">
         <h2 class="footer-heading">Stay in Touch</h2>
         <hr>
         <ul>
            <li><a href="https://map.utah.edu/index.html?code=inscc">Find Us</a></li>
            <li><a href="https://www.chpc.utah.edu/about/contact.php">Contact Us</a></li>
            <li><a href="mailto:helpdesk@chpc.utah.edu">Webmaster</a></li>
         </ul>
      </div>
      <div class="uu-footer__top-col5">
         <h2 class="footer-heading">Quick Links</h2>
         <hr>
         <ul>
            <li><a href="https://www.utah.edu/a-z/">A-Z Index</a></li>
            <li><a href="https://people.utah.edu/uWho/basic.hml">Campus Directory</a></li>
            <li><a href="https://www.map.utah.edu">Campus Map</a></li>
            <li><a href="https://map.utah.edu/?allshuttle=on">Shuttle Tracker </a></li>
            <li><a href="https://cis.utah.edu/">CIS</a></li>
            <li><a href="https://www.umail.utah.edu/">UMail</a></li>
            <li><a href="https://attheu.utah.edu/">@ The U</a></li>
         </ul>
      </div>
   </div>
</div><div class="uu-footer__bottom">
   <div class="uu-footer__bottom-container">
      <div class="uu-footer__bottom-col1"><a href="https://www.utah.edu/"><img src="https://templates.utah.edu/_main-v3-1/images/template/university-of-utah-logo.svg" alt="The University of Utah" class="uu-site-logo"></a></div>
      <div class="uu-footer__bottom-col2">
         <div class="legal">
            <p>© 2024 The University of Utah</p>
            <ul>
               <li><a href="https://www.utah.edu/indigenous-land-acknowledgment/index.php">Indigenous Land Acknowledgment</a></li>
               <li><a href="https://www.utah.edu/nondiscrimination/">Nondiscrimination &amp; Accessibility</a></li>
               <li><a href="https://www.utah.edu/disclaimer/">Disclaimer</a></li>
               <li><a href="https://www.utah.edu/privacy/">Privacy</a></li>
               <li><a href="https://www.utah.edu/credits-v3.php">Credits &amp; Attributions</a></li>
               <li><a href="https://attheu.utah.edu/media-contacts/">Media Contacts</a></li>
               <li><span id="directedit"></span></li>
            </ul>
         </div>
      </div>
      <div class="uu-footer__bottom-col3">
         <ul class="uu-social-list">
            <li><a href="https://twitter.com/uutah"><span class="fa-brands fa-x-twitter" aria-hidden="true"></span><span class="sr-only">X</span></a></li>
            <li><a href="https://www.facebook.com/universityofutah"><span class="fab fa-facebook" aria-hidden="true"></span><span class="sr-only">Facebook</span></a></li>
            <li><a href="https://www.instagram.com/universityofutah/"><span class="fab fa-instagram" aria-hidden="true"></span><span class="sr-only">Instagram</span></a></li>
            <li><a href="https://www.youtube.com/user/theuniversityofutah"><span class="fab fa-youtube" aria-hidden="true"></span><span class="sr-only">Youtube</span></a></li>
         </ul>
      </div>
   </div>
</div></footer>
         <!-- END FOOTER -->
         </div>
      <!-- FOOT CODE -->
      <script src="//templates.utah.edu/_main-v3-1/js/main.min.js"></script>
      
      
      
      
      
      
      
      <script src="//templates.utah.edu/_main-v3-1/js/directedit.js"></script><script><!--
window.onload = function(){ directedit(); }
//
			--></script>
      <script src="/_resources/js/custom.js"></script>
            
      <!-- END FOOT CODE -->
      
      <div id="hidden"><a id="de" href="https://a.cms.omniupdate.com/11/?skin=utah&amp;account=utah_home&amp;site=chpc2&amp;action=de&amp;path=/documentation/software/ansys-edt.pcf">Last Updated: 3/28/24</a></div>
      <!-- END PAGE BODY -->
      </body>
</html>